var jss='[{"classO":"StopObj","l":"395","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"463","t":"41","src":"images/tree1m.png"},{"classO":"StopObj","l":"407","t":"212","src":"images/tree1m.png"},{"classO":"StopObj","l":"466","t":"212","src":"images/tree1m.png"},{"classO":"StopObj","l":"529","t":"217","src":"images/tree1m.png"},{"classO":"StopObj","l":"523","t":"43","src":"images/tree1m.png"},{"classO":"StopObj","l":"585","t":"40","src":"images/tree1m.png"},{"classO":"StopObj","l":"590","t":"215","src":"images/tree1m.png"},{"classO":"StopObj","l":"652","t":"218","src":"images/tree1m.png"},{"classO":"StopObj","l":"646","t":"41","src":"images/tree1m.png"},{"classO":"StopObj","l":"709","t":"221","src":"images/tree1m.png"},{"classO":"StopObj","l":"713","t":"283","src":"images/tree1m.png"},{"classO":"StopObj","l":"711","t":"344","src":"images/tree1m.png"},{"classO":"StopObj","l":"708","t":"402","src":"images/tree1m.png"},{"classO":"StopObj","l":"703","t":"463","src":"images/tree1m.png"},{"classO":"StopObj","l":"706","t":"520","src":"images/tree1m.png"},{"classO":"StopObj","l":"705","t":"44","src":"images/tree1m.png"},{"classO":"StopObj","l":"766","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"395","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"463","t":"41","src":"images/tree1m.png"},{"classO":"StopObj","l":"523","t":"43","src":"images/tree1m.png"},{"classO":"StopObj","l":"585","t":"40","src":"images/tree1m.png"},{"classO":"StopObj","l":"646","t":"41","src":"images/tree1m.png"},{"classO":"StopObj","l":"705","t":"44","src":"images/tree1m.png"},{"classO":"StopObj","l":"766","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"825","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"891","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"284","src":"images/tree1m.png"},{"classO":"StopObj","l":"901","t":"231","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"284","src":"images/tree1m.png"},{"classO":"StopObj","l":"970","t":"232","src":"images/tree1m.png"},{"classO":"StopObj","l":"954","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"344","src":"images/tree1m.png"},{"classO":"StopObj","l":"515","t":"331","src":"images/dom1.png"},{"classO":"StopObj","l":"600","t":"364","src":"images/dom2.png"},{"classO":"StopObj","l":"901","t":"411","src":"images/tree1m.png"},{"classO":"StopObj","l":"898","t":"476","src":"images/tree1m.png"},{"classO":"StopObj","l":"706","t":"520","src":"images/tree1m.png"},{"classO":"StopObj","l":"895","t":"532","src":"images/tree1m.png"},{"classO":"StopObj","l":"898","t":"476","src":"images/tree1m.png"},{"classO":"StopObj","l":"901","t":"411","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"344","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"284","src":"images/tree1m.png"},{"classO":"StopObj","l":"1098","t":"348","src":"images/dom1.png"},{"classO":"StopObj","l":"260","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"319","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"379","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"438","t":"839","src":"images/tree1m.png"},{"classO":"StopObj","l":"495","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"556","t":"838","src":"images/tree1m.png"},{"classO":"StopObj","l":"616","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"674","t":"841","src":"images/tree1m.png"},{"classO":"StopObj","l":"729","t":"841","src":"images/tree1m.png"},{"classO":"StopObj","l":"790","t":"842","src":"images/tree1m.png"},{"classO":"StopObj","l":"851","t":"838","src":"images/tree1m.png"},{"classO":"StopObj","l":"907","t":"841","src":"images/tree1m.png"},{"classO":"StopObj","l":"959","t":"842","src":"images/tree1m.png"},{"classO":"StopObj","l":"1016","t":"838","src":"images/tree1m.png"},{"classO":"StopObj","l":"1071","t":"844","src":"images/tree1m.png"},{"classO":"StopObj","l":"1130","t":"841","src":"images/tree1m.png"},{"classO":"StopObj","l":"1184","t":"843","src":"images/tree1m.png"},{"classO":"StopObj","l":"1243","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1358","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1301","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1358","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1243","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1243","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1301","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1414","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"202","t":"835","src":"images/tree1m.png"},{"classO":"StopObj","l":"144","t":"835","src":"images/tree1m.png"},{"classO":"StopObj","l":"88","t":"833","src":"images/tree1m.png"},{"classO":"StopObj","l":"34","t":"833","src":"images/tree1m.png"},{"classO":"StopObj","l":"88","t":"833","src":"images/tree1m.png"},{"classO":"StopObj","l":"144","t":"835","src":"images/tree1m.png"},{"classO":"StopObj","l":"202","t":"835","src":"images/tree1m.png"},{"classO":"StopObj","l":"260","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"319","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"379","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"438","t":"839","src":"images/tree1m.png"},{"classO":"StopObj","l":"495","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"556","t":"838","src":"images/tree1m.png"},{"classO":"StopObj","l":"34","t":"772","src":"images/tree1m.png"},{"classO":"StopObj","l":"34","t":"711","src":"images/tree1m.png"},{"classO":"StopObj","l":"39","t":"649","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"595","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"595","src":"images/tree1m.png"},{"classO":"StopObj","l":"34","t":"538","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"480","src":"images/tree1m.png"},{"classO":"StopObj","l":"38","t":"419","src":"images/tree1m.png"},{"classO":"StopObj","l":"37","t":"368","src":"images/tree1m.png"},{"classO":"StopObj","l":"30","t":"32","src":"images/tree1m.png"},{"classO":"StopObj","l":"90","t":"32","src":"images/tree1m.png"},{"classO":"StopObj","l":"152","t":"32","src":"images/tree1m.png"},{"classO":"StopObj","l":"210","t":"30","src":"images/tree1m.png"},{"classO":"StopObj","l":"270","t":"32","src":"images/tree1m.png"},{"classO":"StopObj","l":"330","t":"34","src":"images/tree1m.png"},{"classO":"StopObj","l":"395","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"33","t":"87","src":"images/tree1m.png"},{"classO":"StopObj","l":"36","t":"145","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"202","src":"images/tree1m.png"},{"classO":"StopObj","l":"1021","t":"40","src":"images/tree1m.png"},{"classO":"StopObj","l":"1081","t":"38","src":"images/tree1m.png"},{"classO":"StopObj","l":"1141","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1201","t":"34","src":"images/tree1m.png"},{"classO":"StopObj","l":"1263","t":"38","src":"images/tree1m.png"},{"classO":"StopObj","l":"1326","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1388","t":"39","src":"images/tree1m.png"},{"classO":"StopObj","l":"1445","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1503","t":"35","src":"images/tree1m.png"},{"classO":"StopObj","l":"1562","t":"33","src":"images/tree1m.png"},{"classO":"StopObj","l":"1625","t":"34","src":"images/tree1m.png"},{"classO":"StopObj","l":"1687","t":"34","src":"images/tree1m.png"},{"classO":"StopObj","l":"1746","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1803","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1861","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1865","t":"91","src":"images/tree1m.png"},{"classO":"StopObj","l":"1866","t":"146","src":"images/tree1m.png"},{"classO":"StopObj","l":"1866","t":"202","src":"images/tree1m.png"},{"classO":"StopObj","l":"1868","t":"259","src":"images/tree1m.png"},{"classO":"StopObj","l":"1869","t":"316","src":"images/tree1m.png"},{"classO":"StopObj","l":"1869","t":"374","src":"images/tree1m.png"},{"classO":"StopObj","l":"1871","t":"432","src":"images/tree1m.png"},{"classO":"StopObj","l":"1473","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"1532","t":"846","src":"images/tree1m.png"},{"classO":"StopObj","l":"1593","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"1653","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1710","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1769","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"1825","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"1878","t":"839","src":"images/tree1m.png"},{"classO":"StopObj","l":"1874","t":"778","src":"images/tree1m.png"},{"classO":"StopObj","l":"1868","t":"717","src":"images/tree1m.png"},{"classO":"StopObj","l":"1864","t":"655","src":"images/tree1m.png"},{"classO":"StopObj","l":"1867","t":"590","src":"images/tree1m.png"},{"classO":"StopObj","l":"1807","t":"591","src":"images/tree1m.png"},{"classO":"StopObj","l":"1748","t":"585","src":"images/tree1m.png"},{"classO":"StopObj","l":"1685","t":"591","src":"images/tree1m.png"},{"classO":"StopObj","l":"1631","t":"593","src":"images/tree1m.png"},{"classO":"StopObj","l":"1572","t":"591","src":"images/tree1m.png"},{"classO":"StopObj","l":"1573","t":"649","src":"images/tree1m.png"},{"classO":"StopObj","l":"1576","t":"706","src":"images/tree1m.png"},{"classO":"StopObj","l":"1098","t":"348","src":"images/dom1.png"},{"classO":"StopObj","l":"531","t":"365","src":"images/tree1m.png"},{"classO":"StopObj","l":"1115","t":"386","src":"images/tree1m.png"},{"classO":"StopObj","l":"1170","t":"387","src":"images/tree1m.png"},{"classO":"StopObj","l":"1809","t":"432","src":"images/tree1m.png"},{"classO":"StopObj","l":"1753","t":"430","src":"images/tree1m.png"},{"classO":"StopObj","l":"1699","t":"380","src":"images/tree1m.png"},{"classO":"StopObj","l":"1655","t":"332","src":"images/tree1m.png"},{"classO":"StopObj","l":"36","t":"257","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"312","src":"images/tree1m.png"},{"classO":"StopObj","l":"1284","t":"311","src":"images/tree1m.png"},{"classO":"StopObj","l":"1287","t":"372","src":"images/tree1m.png"},{"classO":"StopObj","l":"1871","t":"507","src":"images/tree1m.png"},{classO:"Tank","l":"200","t":"200","a":"40","aT":"true"},{classO:"Tank","l":"1000","t":"700","a":"180"},{classO:"Tank","l":"1200","t":"700","a":"180"}]';
var jss1='[{"classO":"StopObj","l":"395","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"463","t":"41","src":"images/tree1m.png"},{"classO":"StopObj","l":"407","t":"212","src":"images/tree1m.png"},{"classO":"StopObj","l":"466","t":"212","src":"images/tree1m.png"},{"classO":"StopObj","l":"529","t":"217","src":"images/tree1m.png"},{"classO":"StopObj","l":"523","t":"43","src":"images/tree1m.png"},{"classO":"StopObj","l":"585","t":"40","src":"images/tree1m.png"},{"classO":"StopObj","l":"590","t":"215","src":"images/tree1m.png"},{"classO":"StopObj","l":"652","t":"218","src":"images/tree1m.png"},{"classO":"StopObj","l":"646","t":"41","src":"images/tree1m.png"},{"classO":"StopObj","l":"709","t":"221","src":"images/tree1m.png"},{"classO":"StopObj","l":"713","t":"283","src":"images/tree1m.png"},{"classO":"StopObj","l":"711","t":"344","src":"images/tree1m.png"},{"classO":"StopObj","l":"708","t":"402","src":"images/tree1m.png"},{"classO":"StopObj","l":"703","t":"463","src":"images/tree1m.png"},{"classO":"StopObj","l":"706","t":"520","src":"images/tree1m.png"},{"classO":"StopObj","l":"705","t":"44","src":"images/tree1m.png"},{"classO":"StopObj","l":"766","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"395","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"463","t":"41","src":"images/tree1m.png"},{"classO":"StopObj","l":"523","t":"43","src":"images/tree1m.png"},{"classO":"StopObj","l":"585","t":"40","src":"images/tree1m.png"},{"classO":"StopObj","l":"646","t":"41","src":"images/tree1m.png"},{"classO":"StopObj","l":"705","t":"44","src":"images/tree1m.png"},{"classO":"StopObj","l":"766","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"825","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"891","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"284","src":"images/tree1m.png"},{"classO":"StopObj","l":"901","t":"231","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"284","src":"images/tree1m.png"},{"classO":"StopObj","l":"970","t":"232","src":"images/tree1m.png"},{"classO":"StopObj","l":"954","t":"46","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"344","src":"images/tree1m.png"},{"classO":"StopObj","l":"515","t":"331","src":"images/dom1.png"},{"classO":"StopObj","l":"600","t":"364","src":"images/dom2.png"},{"classO":"StopObj","l":"901","t":"411","src":"images/tree1m.png"},{"classO":"StopObj","l":"898","t":"476","src":"images/tree1m.png"},{"classO":"StopObj","l":"706","t":"520","src":"images/tree1m.png"},{"classO":"StopObj","l":"895","t":"532","src":"images/tree1m.png"},{"classO":"StopObj","l":"898","t":"476","src":"images/tree1m.png"},{"classO":"StopObj","l":"901","t":"411","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"344","src":"images/tree1m.png"},{"classO":"StopObj","l":"899","t":"284","src":"images/tree1m.png"},{"classO":"StopObj","l":"1098","t":"348","src":"images/dom1.png"},{"classO":"StopObj","l":"260","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"319","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"379","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"438","t":"839","src":"images/tree1m.png"},{"classO":"StopObj","l":"495","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"556","t":"838","src":"images/tree1m.png"},{"classO":"StopObj","l":"616","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"674","t":"841","src":"images/tree1m.png"},{"classO":"StopObj","l":"729","t":"841","src":"images/tree1m.png"},{"classO":"StopObj","l":"790","t":"842","src":"images/tree1m.png"},{"classO":"StopObj","l":"851","t":"838","src":"images/tree1m.png"},{"classO":"StopObj","l":"907","t":"841","src":"images/tree1m.png"},{"classO":"StopObj","l":"959","t":"842","src":"images/tree1m.png"},{"classO":"StopObj","l":"1016","t":"838","src":"images/tree1m.png"},{"classO":"StopObj","l":"1071","t":"844","src":"images/tree1m.png"},{"classO":"StopObj","l":"1130","t":"841","src":"images/tree1m.png"},{"classO":"StopObj","l":"1184","t":"843","src":"images/tree1m.png"},{"classO":"StopObj","l":"1243","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1358","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1301","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1358","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1243","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1243","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1301","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1414","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"202","t":"835","src":"images/tree1m.png"},{"classO":"StopObj","l":"144","t":"835","src":"images/tree1m.png"},{"classO":"StopObj","l":"88","t":"833","src":"images/tree1m.png"},{"classO":"StopObj","l":"34","t":"833","src":"images/tree1m.png"},{"classO":"StopObj","l":"88","t":"833","src":"images/tree1m.png"},{"classO":"StopObj","l":"144","t":"835","src":"images/tree1m.png"},{"classO":"StopObj","l":"202","t":"835","src":"images/tree1m.png"},{"classO":"StopObj","l":"260","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"319","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"379","t":"837","src":"images/tree1m.png"},{"classO":"StopObj","l":"438","t":"839","src":"images/tree1m.png"},{"classO":"StopObj","l":"495","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"556","t":"838","src":"images/tree1m.png"},{"classO":"StopObj","l":"34","t":"772","src":"images/tree1m.png"},{"classO":"StopObj","l":"34","t":"711","src":"images/tree1m.png"},{"classO":"StopObj","l":"39","t":"649","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"595","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"595","src":"images/tree1m.png"},{"classO":"StopObj","l":"34","t":"538","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"480","src":"images/tree1m.png"},{"classO":"StopObj","l":"38","t":"419","src":"images/tree1m.png"},{"classO":"StopObj","l":"37","t":"368","src":"images/tree1m.png"},{"classO":"StopObj","l":"30","t":"32","src":"images/tree1m.png"},{"classO":"StopObj","l":"90","t":"32","src":"images/tree1m.png"},{"classO":"StopObj","l":"152","t":"32","src":"images/tree1m.png"},{"classO":"StopObj","l":"210","t":"30","src":"images/tree1m.png"},{"classO":"StopObj","l":"270","t":"32","src":"images/tree1m.png"},{"classO":"StopObj","l":"330","t":"34","src":"images/tree1m.png"},{"classO":"StopObj","l":"395","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"33","t":"87","src":"images/tree1m.png"},{"classO":"StopObj","l":"36","t":"145","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"202","src":"images/tree1m.png"},{"classO":"StopObj","l":"1021","t":"40","src":"images/tree1m.png"},{"classO":"StopObj","l":"1081","t":"38","src":"images/tree1m.png"},{"classO":"StopObj","l":"1141","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1201","t":"34","src":"images/tree1m.png"},{"classO":"StopObj","l":"1263","t":"38","src":"images/tree1m.png"},{"classO":"StopObj","l":"1326","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1388","t":"39","src":"images/tree1m.png"},{"classO":"StopObj","l":"1445","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1503","t":"35","src":"images/tree1m.png"},{"classO":"StopObj","l":"1562","t":"33","src":"images/tree1m.png"},{"classO":"StopObj","l":"1625","t":"34","src":"images/tree1m.png"},{"classO":"StopObj","l":"1687","t":"34","src":"images/tree1m.png"},{"classO":"StopObj","l":"1746","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1803","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1861","t":"36","src":"images/tree1m.png"},{"classO":"StopObj","l":"1865","t":"91","src":"images/tree1m.png"},{"classO":"StopObj","l":"1866","t":"146","src":"images/tree1m.png"},{"classO":"StopObj","l":"1866","t":"202","src":"images/tree1m.png"},{"classO":"StopObj","l":"1868","t":"259","src":"images/tree1m.png"},{"classO":"StopObj","l":"1869","t":"316","src":"images/tree1m.png"},{"classO":"StopObj","l":"1869","t":"374","src":"images/tree1m.png"},{"classO":"StopObj","l":"1871","t":"432","src":"images/tree1m.png"},{"classO":"StopObj","l":"1473","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"1532","t":"846","src":"images/tree1m.png"},{"classO":"StopObj","l":"1593","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"1653","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1710","t":"845","src":"images/tree1m.png"},{"classO":"StopObj","l":"1769","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"1825","t":"840","src":"images/tree1m.png"},{"classO":"StopObj","l":"1878","t":"839","src":"images/tree1m.png"},{"classO":"StopObj","l":"1874","t":"778","src":"images/tree1m.png"},{"classO":"StopObj","l":"1868","t":"717","src":"images/tree1m.png"},{"classO":"StopObj","l":"1864","t":"655","src":"images/tree1m.png"},{"classO":"StopObj","l":"1867","t":"590","src":"images/tree1m.png"},{"classO":"StopObj","l":"1807","t":"591","src":"images/tree1m.png"},{"classO":"StopObj","l":"1748","t":"585","src":"images/tree1m.png"},{"classO":"StopObj","l":"1685","t":"591","src":"images/tree1m.png"},{"classO":"StopObj","l":"1631","t":"593","src":"images/tree1m.png"},{"classO":"StopObj","l":"1572","t":"591","src":"images/tree1m.png"},{"classO":"StopObj","l":"1573","t":"649","src":"images/tree1m.png"},{"classO":"StopObj","l":"1576","t":"706","src":"images/tree1m.png"},{"classO":"StopObj","l":"1098","t":"348","src":"images/dom1.png"},{"classO":"StopObj","l":"531","t":"365","src":"images/tree1m.png"},{"classO":"StopObj","l":"1115","t":"386","src":"images/tree1m.png"},{"classO":"StopObj","l":"1170","t":"387","src":"images/tree1m.png"},{"classO":"StopObj","l":"1809","t":"432","src":"images/tree1m.png"},{"classO":"StopObj","l":"1753","t":"430","src":"images/tree1m.png"},{"classO":"StopObj","l":"1699","t":"380","src":"images/tree1m.png"},{"classO":"StopObj","l":"1655","t":"332","src":"images/tree1m.png"},{"classO":"StopObj","l":"36","t":"257","src":"images/tree1m.png"},{"classO":"StopObj","l":"35","t":"312","src":"images/tree1m.png"},{classO:"Tank","l":"200","t":"200","a":"40","aT":"true"},{classO:"Tank","l":"1000","t":"700","a":"180"},{classO:"Tank","l":"1200","t":"700","a":"180"}]';
var Place=Class.create({
    initialize: function(option){
        this.width=0;
        this.heigth=0;
        this.util=new Util();
        this.screen=this.util.getPageSize();
        this.listAllObj=new Array();//список всех объектов
        this.listObj=new Array();//массив элементов подписавшихся на событие перерисовки игрового поля
        this.listMoveObj=new Array();//список движ объектов
        this.countCadr=(option.countCadr)?Math.round(1000/option.countCadr):20;//Количество кадров в секунду для перерисовки игрового поля в милисек
        this.col=new Collides();
        this.place=document.body;//игровое поле
        this.place.style.backgroundColor='#a1a95e';
        this.pan=new Object();
        this.paintPanelInformation();
        this.paintContent();
        this.timeLR=0;//время последней отрисовки
        this.obrabKey();
        this._redrawPole();
    },
    _redrawPole:function(){
        var thisEl=this;
        var e=new Object();
        e.t=new Date().getTime();
        e.tLP=e.t-this.timeLR;
        for(var y=0;y<this.listMoveObj.length;y++){
            for(var i=0;i<this.listAllObj.length;i++){
                if(this.col.hitTest(this.listMoveObj[y],this.listAllObj[i])){
                    try{
                        this.listMoveObj[y].obrCollides(e,this.listAllObj[i]);
                        this.listAllObj[i].obrCollides(e,this.listMoveObj[y]);
                    }catch(e){}
                }
            }}
        for(var i=0;i<this.listObj.length;i++){
            this.listObj[i](e);
        }
        this.timeLR=e.t;
        setTimeout(function(){thisEl._redrawPole()},this.countCadr);
    },
    obrabKey:function(){
        var thisEl=this;
        Event.observe(document,'click',function(e){var df=new Element('div',{style:"position:absolute;left:"+e.clientX+"px;top:"+e.clientY+"px;z-index:3"}).insert('x:'+e.clientX+'; y:'+e.clientY); thisEl.place.insert(df); var t=function(ddd){setTimeout(function(){ddd.remove();},2000);}; t(df);  });
        Event.observe(document,'keydown',function(e){
            if(e.keyCode==39){thisEl.tank.rotateObj(false);}
            if(e.keyCode==40){thisEl.tank.moveObj(false);}
            if(e.keyCode==37){thisEl.tank.rotateObj(true);}
            if(e.keyCode==38){thisEl.tank.moveObj(true);}
            if(e.keyCode==32) thisEl.tank.shoot();
        });
        Event.observe(document,'keyup',function(e){
            var t=e.keyCode;
            if(t==37 | t==39) thisEl.tank.stopRotateObj();
            if(t==38 | t==40) thisEl.tank.stopMoveObj();
            if(e.charCode==32) thisEl.tank.shoot();
            //if(e.keyPress==39) thisEl.moveObjL(thisEl.tank);
        });
    },           
    paintContent:function(jsonPole){
        jsonPole=(jsonPole)?jsonPole:jss;
        jsonPole=jsonPole.evalJSON();
        for(var i=0;i<jsonPole.length;i++){
            var jsO=jsonPole[i];
            var d=null;
            if(jsO.classO=="Tank"){
                var o=new Object();o.l=(jsO.l)?jsO.l:0; o.t=(jsO.t)?jsO.t:0;o.a=(jsO.a)?jsO.a:0;
                if(jsO.aT){d=new Tank(this,o); this.tank=d;}
                else{ d=new TankBot(this,o);}
            }
            if(jsO.classO=="StopObj"){
                var o=new Object();o.l=(jsO.l)?jsO.l:0; o.t=(jsO.t)?jsO.t:0;o.a=(jsO.a)?jsO.a:0;
                d=new StaticObject(this,jsO.src,o);

            }
            if(d!=null)
                this.listAllObj[this.listAllObj.length]=d;
            if(jsO.classO=="NonStopObj"){
                var o=new Object();o.l=(jsO.l)?jsO.l:0; o.t=(jsO.t)?jsO.t:0;o.a=(jsO.a)?jsO.a:0;
                new StaticObject(this,jsO.src,o);
            }
        }

        //this.sVzr=new Sound(this,"images/Vzryv3.wav");
    },
    paintPanelInformation:function(jsonPole){
        this.pan.life=new Element('span');
        var el=new Element('div',{style:'background:url("images/metall.png") repeat-x;height:100px; width:1865px; position:absolute;left:10px;top:795px;z-index:1;'}).insert(
                new Element('div',{style:"position:relative;left:300px;top:10px;width:400px;"}).insert(new Element('div').insert("Жизнь: ").insert(this.pan.life)));
        this.place.insert(el);
    }

})

var StaticObject=Class.create({
    initialize: function(owner,src,option){
        this.owner=owner;
        this.source=new Element('img',{'src':src});
        this.source.setStyle({'position':'absolute','z-index':'1'});
        this.dl = (option.dl)?option.dl:0;
        this.dt = (option.dt)?option.dt:0;
        this.l=(option.l)?new Number(option.l):0;
        this.t=(option.t)?new Number(option.t):0;
        this.w=this.source.width;
        this.h=this.source.height;
        this.lAngle=0;
        var a=(option.a)?option.a:0;
        this._rotateObject(a);
        this._paint();
        Element.insert(this.owner.place,this.source);
        this.uron=0.02;

        return this;
    },
    _rotateObject:function(angle){

        //                    var rad = (angle * Math.PI) / 180.0;
        //                    var cos = Math.cos(rad);
        //                    var sin = Math.sin(rad);
        //                    var filter='progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11 = ' + cos + ', M12 = ' + (-sin) + ', M21 = ' + sin + ', M22 = ' + cos + ')';
        //                    var text="-ms-filter:"+filter+";filter:"+filter+";";
        //                    this.source.style.cssText=text;

        //  var w=this.w;
        //var h=this.h;
        //this.source.setStyle({'margin-left':0,'margin-top':0});
        //
        if(angle>180 | angle<-180)
            var t=0;
        this.lAngle=angle;
       // this.source.style.MozTransform='rotate('+this.lAngle+'deg)';
       this.source.setStyle({
            '-moz-transform': 'rotate('+this.lAngle+'deg)', /* Для Firefox */
            '-ms-transform': 'rotate('+this.lAngle+'deg)', /* Для IE */
            '-webkit-transform': 'rotate('+this.lAngle+'deg)', /* Для Safari, Chrome, iOS */
            '-o-transform': 'rotate('+this.lAngle+'deg)', /* Для Opera */
            'transform': 'rotate('+this.lAngle+'deg)'
         });

    },
    _paint:function(){
        var l=this.l-Math.round(this.w/2);
        var t=this.t-Math.round(this.h/2);
        this.source.style.left=l+'px';
        this.source.style.top=t+'px';
    },
    obrCollides:function(){}
})

var DinamicObject=Class.create(StaticObject,{
    initialize: function($super,owner,src,option){
        var thisEl=this;
        this.dM=new Object(); this.dM.t=0; this.dM.l=0;
        $super(owner,src,option);
        this.speed=0;
        this.speedR=0;
        this.life=100;
        this.moveOb=false;
        this.rotateOb=false;
        this.dir=true;//напр движ вперед (true)  назад (false)
        this.dirR=true;//вращение по час (true) против (false)
        this.timeLR=new Date().getTime();//время последней перерисовки
        this.smC = function(e){thisEl._moveObj(e.t);}
        this.smR = function(e){thisEl._rotateObj(e.t);}
        this.startMLine();
        this.dM.l=Math.cos(this.lAngle*Math.PI/180);//сразу считаем вектор движения
        this.dM.t=Math.sin(this.lAngle*Math.PI/180);
    },
    _moveObj:function(time,e){
        //        this._rOb();
        //        if(this.timeLR==0) {this.timeLR=time-this.owner.countCadr};
        //        this.dM.l=Math.cos(this.lAngle*Math.PI/180);//сразу считаем вектор движения
        //        this.dM.t=Math.sin(this.lAngle*Math.PI/180);
        //        var p=(time-this.timeLR)*this.speed; //путь который мог пройти этот объект за отведенное время
        //        this.l+=Math.round(p*this.dM.l)*((this.dir)?1:-1);
        //        this.t+=Math.round(p*this.dM.t)*((this.dir)?1:-1);
        //        this._paint();
        //        this._pOb();
        //        if(!e)  this.timeLR=time;

        this._rOb();
        var p=(time-this.timeMNoR)*this.speed; //путь который мог пройти этот объект за отведенное время (ещчку отсчета берем с того времени как он начал двигаться прямо и сним не случалось колизий)

        this.l=this.lm+Math.round(p*this.dM.l)*((this.dir)?1:-1);
        this.t=this.tm+Math.round(p*this.dM.t)*((this.dir)?1:-1);
        if(isNaN(this.l) | isNaN(this.t))
            new Util().printEl(this.owner.place,800, 800,""+this.l+" "+this.t,1000);


        this._paint();
        this._pOb();
    },
    _rotateObj:function(time){
        var delt=Math.round((time-this.timeLR)*this.speedR);
        if(!this.dirR) delt*=-1;
        var a=this.lAngle-delt;
        if(a<-180) a=360+a; if(a>180) a=a-360;
        this._rotateObject(a);
        this.dM.l=Math.cos(this.lAngle*Math.PI/180);//пересчитываем вектор движения с учетом текущего поворота
        this.dM.t=Math.sin(this.lAngle*Math.PI/180);
        if(isNaN(this.dM.l) | isNaN(this.dM.t))
            new Util().printEl(this.owner.place,800, 800,""+this.l+" "+this.t,1000);
        this.startMLine();
        this.timeLR=new Date().getTime();
        //this.dM.t=Math.sin(this.lAngle*Math.PI/180);this.dM.l=Math.cos(this.lAngle*Math.PI/180);//сразу считаем вектор движения
    },
    rotateObj:function(dirR){
        if(!this.rotateOb){
            this.dirR=dirR;
            this.rotateOb=true;
            this.timeLR=new Date().getTime();
            this.startMLine();
            if(!this.owner.listObj.include(this.smR))
                this.owner.listObj[this.owner.listObj.length]=this.smR;  //говорим что делать объекту  при перерисовки поля (вызвать функцию smC)
            if(!this.moveOb){
                if(!this.owner.listMoveObj.include(this))
                    this.owner.listMoveObj[this.owner.listMoveObj.length]=this;
            }
        }
    },
    stopRotateObj:function(){
        this.rotateOb=false;
        this.timeLR=new Date().getTime();
        this.owner.listObj=this.owner.listObj.without(this.smR);  //удаляем объект из отрисовки - он не движется - значит и перерисовыывать не нужно
        this.owner.listMoveObj=this.owner.listMoveObj.without(this);
    },
    _rOb:function(){},
    _pOb:function(){},
    moveObj:function(dir){
        if(!this.moveOb){
            this.dir=dir;
            this.startMLine();
            this.moveOb=true;
            if(!this.owner.listObj.include(this.smC))
                this.owner.listObj[this.owner.listObj.length]=this.smC;  //говорим что делать объекту  при перерисовки поля (вызвать функцию smC)
            if(!this.rotateOb){
                if(!this.owner.listMoveObj.include(this))
                    this.owner.listMoveObj[this.owner.listMoveObj.length]=this;
            }
        }
    },
    stopMoveObj:function(){
        this.moveOb=false;
        //this.timeLR=0;
        this.owner.listObj=this.owner.listObj.without(this.smC);  //удаляем объект из отрисовки - он не движется - значит и перерисовыывать не нужно
        this.owner.listMoveObj=this.owner.listMoveObj.without(this);
    },
//считаем что после этого метода танк двигается прямо dTime-смещение времени для изменения скорости (не обяз параметр)
    startMLine:function(dTime){
        this.lm=this.l; //точки с которых пересчитываем движение объекта по прямому маршруту
        this.tm=this.t;
        this.timeMNoR=new Date().getTime()+((dTime)?dTime:0);//время с момента начала движения
    }
})

var Tank=Class.create(DinamicObject, {
    initialize: function($super,owner,option){
        var src='images'+'/tank.png';
        $super(owner,src,option);
        this.speed=0.1;
        this.speedR=0.06;
        this.timeLS=0;//Время последнего выстрела
        this.tP=1000;//Время перезарядки танка в милисекундах
        this.uron=10;
        this.owner.pan.life.update("100");
    },
    shoot:function(){
        if((new Date().getTime()-this.timeLS)>this.tP){
            var pul=new Pulja(this);
            this.timeLS=new Date().getTime();
            //$('soundClick').play();
            //когда танк стреляет его отбрасывает назад
            this.startMLine(30);
            this._moveObj(new Date().getTime());
        }
    },
    _pOb:function(){
        if(this.life<0){
            this.smC = null;
            this.smR = null;
            this.shoot=null;
            this.stopMoveObj();
            this.owner.listAllObj=this.owner.listAllObj.without(this);
            try{this.source.remove();}catch(e){}
        }
        // if(this.l-Math.floor(this.w/2)<=0 | this.l+Math.floor(this.w/2)>=this.owner.screen.pageWidth | this.t-Math.floorthis.w/2)<=0 | this.t+Math.floor(this.w/2)>=this.owner.screen.pageHeight){

        //}
    },
    obrCollides:function(e,obj){

        if(obj.tank && obj.tank==this) return;
        if(this.moveOb){
            this.startMLine(30);
            this._moveObj(new Date().getTime());
        }
        if(this.rotateOb){
            this.timeLR+=70;
            this._rotateObj(new Date().getTime());
        }
        this.life-=obj.uron;
        this.owner.pan.life.update(this.life);
        //            new Util().printEl(this.owner.place,900,800,"Жизнь: "+this.life+"; Полученый урон",5000);
        if(this.life<0){
            new Vzriv(this);
            var a=new Sound(this.owner,"images/Vzryv3.wav");a.play();a.remove(6000);
        }

        // this.owner.util.printEl(this.owner.place,this.l,this.t,'otbros',1000);
    }
});

var TankBot=Class.create(DinamicObject, {
    initialize: function($super,owner,option){
        var src='images'+'/tank.png';
        $super(owner,src,option);
        this.speed=0.03;
        this.speedR=0.03;
        this.timeLS=0;//Время последнего выстрела
        this.tP=1000;//Время перезарядки танка в милисекундах
        this.uron=10;


        this.listM=(option.lM)?option.lM:null;//точки маршрута патрулирования
        this.unitCel=(option.unitCel)?option.unitCel:null;//юнит который нужно уничтожить
        this.rObzor=(option.rObzor)?option.rObzor:200;//радиус обзора для поиска вражеского юнита
        this.alarm=false//режим тревоги
        this.maxRV=500;//максимальное расстояние выбора маршрута
        this.myP=new Object();
        this.myP.x=0;this.myP.y=0;this.myP.a=0;
        this.nextAct();
        this.rShoot();
    },
    shoot:function(){
        if((new Date().getTime()-this.timeLS)>this.tP){
            var pul=new Pulja(this);
            this.timeLS=new Date().getTime();
            //$('soundClick').play();
            //когда танк стреляет его отбрасывает назад
            //this.startMLine(30);
            //this._moveObj(new Date().getTime());
        }
    },
    rShoot:function(){
        var thisEl=this;
        var r=Math.round(Math.random()*4000);
        if(r<1000) r=2500;
        setTimeout(function(){thisEl.shoot();thisEl.rShoot();},r);
    },
//метод для получение рандомной точки маршрута
    getRPM:function(vDvig,ugPov){
        var td=15;//дельта на которую мы уменьшаем наш вектор если наша точка попала внутрь какого либо объекта
        var pb=200;//минимальное расстояние от нашего объета до конца его движ если оно меньше этого числа то нужно найти новый вектор движ

        //1. берем случайное число длины вектора движ.
        vDvig=(vDvig)?(vDvig-td):Math.round(Math.random()*500);
        if(vDvig<pb){return this.getRPM();}
        //2. берем рандомный угол поворота
        ugPov=(ugPov)?ugPov:(Math.round((Math.random()*180)*((Math.floor(Math.random()*2)==0)?-1:1)));
        //3. находим нашу точку имея длинну вектора и угол поворота
        var ob=new Object();
        ob.x=this.l+Math.round(vDvig*Math.cos(ugPov*Math.PI/180));
        ob.y=this.t+Math.round(vDvig*Math.sin(ugPov*Math.PI/180));

        //3. проверяем не лежит ли наша точка внутри какого либо др. объекта
        var col=new Collides();
        for(var x=0;x<this.owner.listAllObj.length;x++){
            //проверяем не находится ли наша точка внутри объекта this.owner.listAllObj[x]
            //если лежит то вызываем наш метод и передаем ему вектор движ

            var r1=col.rotObj(this.owner.listAllObj[x], col.getPO(this.owner.listAllObj[x]));
            //если попадает то ищем новую точку
            if(col._ptoQuad(ob.x, ob.y, r1[0].x,r1[0].y,r1[1].x,r1[1].y,r1[2].x,r1[2].y,r1[3].x,r1[3].y)){
                return this.getRPM(vDvig,ugPov);
            }
        }
        //если мы не попали не в один из объектов мы должны попасть сюда

        ob.a=ugPov;
        this.dM.l=-Math.cos(ugPov*Math.PI/180);
        this.dM.t=-Math.sin(ugPov*Math.PI/180);
        return ob

    },
    _pOb:function(){
        if(this.life<0){
            this.stopMoveObj();
            this.owner.listAllObj=this.owner.listAllObj.without(this);
            try{this.source.remove();}catch(e){}
            this.shoot=function(){};
        }
        //проверяем доехал ли танк до заданной точки
        if(new Collides().getPToCircle(this.myP.x,this.myP.y,this.l,this.t,10)){
            this.stopMoveObj();
            this.nextAct();
        }
        // if(this.l-Math.floor(this.w/2)<=0 | this.l+Math.floor(this.w/2)>=this.owner.screen.pageWidth | this.t-Math.floorthis.w/2)<=0 | this.t+Math.floor(this.w/2)>=this.owner.screen.pageHeight){

        //}
    },
    obrCollides:function(e,obj){

        if(!obj.tank){
            if(this.moveOb){
                this.stopMoveObj();
                this.nextAct();
            }
            return;
        }

        if(obj.tank && obj.tank==this) return;

        if(this.moveOb){
            this.stopMoveObj();
            this.nextAct();
        }
        if(obj.tank && obj.tank!=this.owner.tank) return;
        this.life-=obj.uron;
        if(this.life<0){
            new Vzriv(this);
            var a=new Sound(this.owner,"images/Vzryv3.wav");a.play();a.remove(6000);
        }

        // this.owner.util.printEl(this.owner.place,this.l,this.t,'otbros',1000);
    },
//функция вызывает следующее действие юнита
    nextAct:function(){
        this.myP=this.getRPM();
        this._rotateObject(this.myP.a);
        this.moveObj();
    }
})

var Pulja=Class.create(DinamicObject, {
    initialize: function($super,owner){
        var thisEl=this;
        var src='images'+'/pulja.png';
        var o=new Object(); o.l=owner.l; o.t=owner.t; o.a=owner.lAngle
        $super(owner.owner,src,o);
        this.tank = owner;
        this.speed=0.2;
        this.n=0;
        this.uron=10;

        this.moveOb=true;
        this.smC = function(e){thisEl._moveObj(e.t);}
        this.owner.listAllObj[this.owner.listAllObj.length]=this;
        this.owner.listMoveObj[this.owner.listMoveObj.length]=this;
        this.owner.listObj[this.owner.listObj.length]=this.smC;
        this.a=new Sound(this.owner,"images/Pushka1.wav");this.a.play();
    },
    _pOb:function(){
        this.n+=1;
        if(this.n>1000 | (this.l-Math.round(this.w/2-this.tank.w/2)<=0 | this.l+Math.round(this.w/2+this.tank.w/2)>=this.owner.screen.pageWidth | this.t-Math.round(this.w/2-this.tank.w/2)<=0 | this.t+Math.round(this.w/2+this.tank.w/2)>=this.owner.screen.pageHeight)){
            this.a.remove(4000);
            this.stopMoveObj();
            this.owner.listAllObj=this.owner.listAllObj.without(this);
            this.uron=0;
            try{this.source.remove();}catch(e){}
        }
    },
    obrCollides:function(e,obj){
        if(obj==this.tank) return;

        var b=new Sound(this.owner,"images/Vzryv3.wav");b.play();b.remove(4000);
        this.n=1000;
        new Vzriv(this);
    }
})

var Sound=Class.create({
    initialize: function(owner,s){
        this.source=new Element('audio').insert(new Element('source',{src:s}));
        owner.place.insert(this.source);
    },
    play:function(){
        this.source.play();
    },
    stop:function(){
        this.source.stop();
    },
    remove:function(time){
        if(!time || time==0){ this.source.remove(); return;}
        var thisEl=this;
        setTimeout(function(){thisEl.source.remove()},time);
    },
    setVolume:function(vol){
        this.source.volume=vol;
    }
})

var Vzriv=Class.create({
    initialize: function(owner){
        var im=new Element('i',{style:"position:absolute; left:"+(owner.l-32)+"px;top:"+(owner.t-32)+"px;z-index:1;display: inline-block; width: 64px; height: 64px; background: url('images/exp1.png') scroll -192px -192px;"});
        owner.owner.place.insert(im);
        var t=function(imB,x,y,ti){return function(){setTimeout(function(){imB.setStyle({background: "url('images/exp1.png') scroll -"+x+"px -"+y+"px"})},ti);}};
        var s=20;
        var tth=0;
        for(var i=3;i>=0;i--){
            for(var y=3;y>=0;y--){
                tth+=s;
                t(im,y*64,i*64,tth)();
            }
        }
        for(var i=0;i<5;i++){
            tth+=s*7;
            var r=Math.round(Math.random()*4);
            t(im,r*64,0,tth)();
        }
        for(var i=0;i<4;i++){
            for(var y=0;y<4;y++){
                tth+=s;
                t(im,y*64,i*64,tth)();
            }
        }
        tth+=s;
        setTimeout(function(){im.remove()},tth);
    }
})

var Util=Class.create({
    initialize: function(){
    },
    getPageSize:function(parent){
        parent = parent || document.body;
        var windowWidth, windowHeight;
        var pageHeight, pageWidth;
        if (parent != document.body) {
            windowWidth = parent.getWidth();
            windowHeight = parent.getHeight();
            pageWidth = parent.scrollWidth;
            pageHeight = parent.scrollHeight;
        }
        else {
            var xScroll, yScroll;
            if (window.innerHeight && window.scrollMaxY) {
                xScroll = document.body.scrollWidth;
                yScroll = window.innerHeight + window.scrollMaxY;
            } else if (document.body.scrollHeight > document.body.offsetHeight){ // all but Explorer Mac
                xScroll = document.body.scrollWidth;
                yScroll = document.body.scrollHeight;
            } else { // Explorer Mac...would also work in Explorer 6 Strict, Mozilla and Safari
                xScroll = document.body.offsetWidth;
                yScroll = document.body.offsetHeight;
            }
            if (self.innerHeight) { // all except Explorer
                windowWidth = self.innerWidth;
                windowHeight = self.innerHeight;
            } else if (document.documentElement && document.documentElement.clientHeight) { // Explorer 6 Strict Mode
                windowWidth = document.documentElement.clientWidth;
                windowHeight = document.documentElement.clientHeight;
            } else if (document.body) { // other Explorers
                windowWidth = document.body.clientWidth;
                windowHeight = document.body.clientHeight;
            }
            // for small pages with total height less then height of the viewport
            if(yScroll < windowHeight){
                pageHeight = windowHeight;
            } else {
                pageHeight = yScroll;
            }
            // for small pages with total width less then width of the viewport
            if(xScroll < windowWidth){
                pageWidth = windowWidth;
            } else {
                pageWidth = xScroll;
            }
        }
        return {pageWidth: pageWidth ,pageHeight: pageHeight , windowWidth: windowWidth, windowHeight: windowHeight};
    },
//content - место в какую оболочку вставить , l -расстояние слева, t- расстояние сверху, el- текст который или контент нужно вставить, timeHide- время через которое удалить  в милисек(0 - не удалять никогда)
    printEl:function(content,l,t,el,timeHide){
        var df=new Element('div',{style:"font-size:xx-large;position:absolute;left:"+l+"px;top:"+t+"px;z-index:3"}).insert(el);
        content.insert(df);
        var tr=function(ddd){setTimeout(function(){ddd.remove();},timeHide);};
        tr(df);
    }
});

var tdd=null;
function startGame(){
    var op=new Object();
    op.countCadr=20;
    tdd=new Place(op);
}

//var ie=0; var f=0; var n=navigator;
//if ((n.platform=='Win32')&&(n.userAgent.indexOf('Opera')==(-1))){
//    ie=1;
//    for (var i=3;i<7;i++){
//        if (eval('new ActiveXObject("ShockwaveFlash.ShockwaveFlash.'+i+'")')){
//            f=i;
//        }
//    }
//}
//if ((ie==0)&&(n.plugins)){
//    for (var i=0;i<n.plugins.length;i++){
//        if (n.plugins[i].name.indexOf('Flash')>(-1)){
//            f=parseInt(n.plugins[i].description.charAt(16));
//        }
//    }
//}
//alert(f);